(this["webpackJsonpbad-bank"]=this["webpackJsonpbad-bank"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(18),l=a.n(n),r=(a(27),a(21)),o=a(2),i=(a(28),a(8)),d=a(3),j=a(0),b=function(e){var t=e.users,a=t.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:e.password})]},e._id)}));return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"All User Data"})}),t?Object(j.jsx)("div",{className:"tableDiv",children:Object(j.jsxs)("table",{className:"table table-striped table-hover ",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Name"}),Object(j.jsx)("th",{scope:"col",children:"Email"}),Object(j.jsx)("th",{scope:"col",children:"Password"})]})}),Object(j.jsx)("tbody",{children:a})]})}):Object(j.jsx)("h4",{children:"No user data currently available."})]})},u=function(){var e=Object(c.useContext)(C),t=e.balance;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"Your Current Balance:"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("p",{className:"card-text",children:Object(j.jsxs)("strong",{children:["$",t]})}),t<=0?Object(j.jsx)("p",{className:"negative",children:"You need to deposit funds before making any withdrawals."}):Object(j.jsxs)("p",{children:["Welcome, ",e.name,"! Do you want to make a deposit or withdrawal today? If so--just select the correct action above."]})]})]})})},h=a(10),O=a.n(h),m=a(14),x=function(e){e.setUsers,e.users;var t=e.setLoggedIn,a=e.setCurrentUser,s=Object(c.useState)(""),n=Object(o.a)(s,2),l=n[0],r=n[1],i=Object(c.useState)(""),d=Object(o.a)(i,2),b=d[0],u=d[1],h=Object(c.useState)(""),x=Object(o.a)(h,2),g=x[0],v=x[1],p=Object(c.useState)(!1),f=Object(o.a)(p,2),N=f[0],k=f[1],y=Object(c.useState)(!0),w=Object(o.a)(y,2),C=w[0],B=w[1],S=Object(c.useState)(!1),I=Object(o.a)(S,2),L=I[0],P=I[1],A=Object(c.useState)(!1),Y=Object(o.a)(A,2),W=Y[0],D=Y[1],F=Object(c.useState)(!1),U=Object(o.a)(F,2),E=U[0],M=U[1],T=function(){var e="/account/create/".concat(l,"/").concat(b,"/").concat(g);Object(m.a)(O.a.mark((function t(){var a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,console.log(c);case 7:case"end":return t.stop()}}),t)})))(),k(!0),t(!0),a({name:l,email:b,balance:0})},q=function(e){var t=!1;"name"===e.target.id&&(r(e.target.value),t=""!==e.target.value&&""!==b&&""!==g,""===e.target.value?D(!0):D(!1)),"email"===e.target.id&&(u(e.target.value),t=""!==e.target.value&&""!==l&&""!==g,""===e.target.value?M(!0):M(!1),""===l&&D(!0)),"password"===e.target.id&&(v(e.target.value),t=""!==e.target.value&&e.target.value.length>=8&&""!==l&&""!==g,e.target.value.length<8?P(!0):P(!1),""===l&&D(!0),""===b&&M(!0)),""===e.target.value&&B(!0),""!==e.target.value&&t&&B(!1)};return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"Create Account"})}),Object(j.jsx)("div",{className:"card-body",children:!0===N?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"card-text",children:"Congratulations, you have successfully created an account with Bad Bank! If you would like to create another account, please click below."}),Object(j.jsx)("button",{type:"button",onClick:function(){k(!1)},className:"btn btn-dark",children:"Create Another Account"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h4",{children:"Please fill out this form to create your new Bad Bank account."}),Object(j.jsx)("p",{className:"card-text",children:"Please note, you will not be able to submit the form without first providing a name, email address, and password of at least 8 characters length."}),Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:"Name: "}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",placeholder:"Your Name",id:"name",onChange:q,className:"form-control"}),W?Object(j.jsx)("p",{className:"negative smallP",children:"You must enter a name to submit the form."}):null,Object(j.jsx)("label",{className:"form-label",children:"Email: "})," ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"email",placeholder:"Your Email Address",id:"email",onChange:q,className:"form-control"}),E?Object(j.jsx)("p",{className:"negative smallP",children:"You must enter an email address to submit the form."}):null,Object(j.jsx)("label",{className:"form-label",children:"Password:"})," ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"password",minLength:"8",placeholder:"Password",id:"password",onChange:q,className:"form-control"}),L?Object(j.jsx)("p",{className:"negative smallP",children:"Your password must be at least 8 characters long."}):null,Object(j.jsx)("br",{}),C?Object(j.jsx)("button",{type:"button",disabled:!0,onClick:T,className:"btn btn-dark",children:"Create an Account"}):Object(j.jsx)("button",{type:"button",disabled:!1,onClick:T,className:"btn btn-dark",children:"Create an Account"})]})})]})})]})})},g=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),l=Object(o.a)(n,2),r=l[0],i=l[1],d=Object(c.useState)(!0),b=Object(o.a)(d,2),u=b[0],h=b[1],O=Object(c.useState)(!1),m=Object(o.a)(O,2),x=m[0],g=m[1],v=Object(c.useContext)(C),p=v.balance,f=function(){!function(){var e=Number(p)+Number(a);console.log("new balance: "+e),v.balance=e}(),s(0),i(!0)};return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"Make a Deposit:"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("p",{className:"card-text",children:["Your current account balance is: ",Object(j.jsxs)("strong",{children:["$",p]})]}),r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"You have successfully made your deposit. Thank you for using Bad Bank! For any of your additional banking needs, please select the desired action above."}),Object(j.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){i(!1)},children:"Make Another Deposit"})]}):Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:"Enter Your Deposit Amount:"}),Object(j.jsx)("input",{type:"number",min:"0",placeholder:"Deposit Amount",className:"form-control",onChange:function(e){s(e.target.value),console.log(e.target.value),void 0!==e.target.value&&h(!1),""===e.target.value&&h(!0),e.target.value<=0?(h(!0),g(!0)):g(!1)}}),x?Object(j.jsx)("p",{className:"negative smallP",children:'We can only accept positive number values for a deposit. If you wish to make a withdrawal, please go to the "Withdraw" section of the Bad Bank Website.'}):Object(j.jsx)("br",{}),u?Object(j.jsx)("button",{type:"button",onClick:f,className:"btn btn-dark",disabled:!0,children:"Make Deposit"}):Object(j.jsx)("button",{type:"button",onClick:f,className:"btn btn-dark",disabled:!1,children:"Make Deposit"})]})})]})]})})},v=a.p+"static/media/BBLogo.e3fe1911.png",p=function(){return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{src:v,className:"card-img-top",alt:"Bad Bank Logo"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h2",{className:"card-title",children:"Bad Bank Home"}),Object(j.jsx)("p",{className:"card-text",children:"We would like to welcome you to Bad Bank! We're not a very good bank, because we lack any security measures. You probably definitely should not trust us with your money or banking needs."})]})]})},f=a(22),N=function(e){var t=e.loggedIn,a=e.setLoggedIn,s=e.setCurrentUser,n=(e.users,Object(c.useState)("")),l=Object(o.a)(n,2),r=l[0],i=l[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),u=b[0],h=b[1],x=Object(c.useState)(!1),g=Object(o.a)(x,2),v=g[0],p=g[1],N=Object(c.useState)(!1),k=Object(o.a)(N,2),y=k[0],w=k[1],B=Object(c.useState)(!0),S=Object(o.a)(B,2),I=S[0],L=S[1],P=(Object(c.useContext)(C),function(){console.log("You submitted your login credentials: "+{email:r}+{password:u});var e="/account/login/".concat(r,"/").concat(u);Object(m.a)(O.a.mark((function t(){var c,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,console.log(n),n&&(a(!0),s(Object(f.a)({},n)));case 8:case"end":return t.stop()}}),t)})))()}),A=function(e){var t=!1;"email"===e.target.id&&(i(e.target.value),t=""!==e.target.value&&""!==u,""===e.target.value?p(!0):p(!1)),"password"===e.target.id&&(h(e.target.value),t=""!==e.target.value&&e.target.value.length>=8&&""!==u,e.target.value.length<8?w(!0):w(!1),""===r&&p(!0)),""===e.target.value&&L(!0),""!==e.target.value&&t&&L(!1)};return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"Login"})}),Object(j.jsx)("div",{className:"card-body",children:t?Object(j.jsx)("p",{children:"Congratulations, you have successfully logged in to your account."}):Object(j.jsx)("form",{onsubmit:P,children:Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:"Email:"})," ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"form-control",type:"text",onChange:A,id:"email",placeholder:"Account Holder Email"}),v?Object(j.jsx)("p",{className:"negative smallP",children:'You must enter a previously registered email address to login. If you do not yet have an account, go to "Create An Account" to sign up now.'}):null,Object(j.jsx)("label",{className:"form-label",children:"Password:"})," ",Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"password",minLength:"8",placeholder:"Password",id:"password",onChange:A,className:"form-control"}),y?Object(j.jsx)("p",{className:"negative smallP",children:"Your password must be at least 8 characters long."}):null," ",Object(j.jsx)("br",{}),I?Object(j.jsx)("button",{type:"button",disabled:!0,onClick:P,className:"btn btn-dark",children:"Login"}):Object(j.jsx)("button",{type:"button",disabled:!1,onClick:P,className:"btn btn-dark",children:"Login"})]})})})]})})},k=function(e){var t=e.setCurrentUser,a=e.setLoggedIn,c=e.loggedIn;return Object(j.jsx)("div",{children:c?Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"Confirm Logout Request"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("p",{className:"card-text",children:Object(j.jsx)("strong",{children:"Please click below to confirm that you want to log out of this banking session."})}),Object(j.jsx)("button",{onClick:function(){t(null),a(!1),c=!1},type:"button",className:"btn btn-dark",children:"Confirm Logout"})]})]}):Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"Logged Out"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("p",{className:"card-text",children:Object(j.jsx)("strong",{children:"You have successfully logged out of Bad Bank."})})})]})})},y=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),l=Object(o.a)(n,2),r=l[0],i=l[1],d=Object(c.useState)(!1),b=Object(o.a)(d,2),u=b[0],h=b[1],O=Object(c.useState)(!0),m=Object(o.a)(O,2),x=m[0],g=m[1],v=Object(c.useState)(!1),p=Object(o.a)(v,2),f=p[0],N=p[1],k=Object(c.useContext)(C),y=k.balance,w=function(){!function(){var e=Number(y)-Number(a);e<=0?h(!0):(i(!0),console.log("new balance: "+e),k.balance=e)}(),s(0)};return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h2",{children:"Make a Withdrawal:"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("p",{className:"card-text",children:["Your current account balance is: ",Object(j.jsxs)("strong",{children:["$",y]})]}),!0===u?Object(j.jsxs)("p",{className:"negative",children:["You cannot make the requested withdraw as you have insufficient funds for that amount. ",Object(j.jsx)("br",{})," Please revise the requested amount below, or deposit sufficient funds prior to withdrawal."]}):null,r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"You have successfully made your withdrawal. Thank you for using Bad Bank! For any of your additional banking needs, please select the desired action above."}),Object(j.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){i(!1)},children:"Make Another Withdrawal"})]}):Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:"Enter Your Withdrawal Amount:"}),Object(j.jsx)("input",{type:"number",min:"0",placeholder:"Withdrawal Amount",className:"form-control",onChange:function(e){s(e.target.value),console.log(e.target.value),u&&h(!1),null!==e.target.value&&g(!1),""===e.target.value&&g(!0),e.target.value<=0?(g(!0),N(!0)):N(!1)}}),f?Object(j.jsx)("p",{className:"negative smallP",children:'We can only accept positive number values for a withdrawal. If you wish to make a deposit, please go to the "Deposit" section of the Bad Bank Website.'}):Object(j.jsx)("br",{}),x?Object(j.jsx)("button",{type:"button",onClick:w,className:"btn btn-dark",disabled:!0,children:"Withdraw Cash"}):Object(j.jsx)("button",{type:"button",onClick:w,className:"btn btn-dark",disabled:!1,children:"Withdraw Cash"})]})})]})]})})},w=function(e){var t=e.users,a=e.loggedIn,c=e.setLoggedIn,s=e.setCurrentUser,n=e.currentUser;return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(i.b,{to:"/",className:"navbar-brand",title:"Bad Bank Home Page",children:"Bad Bank"}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(j.jsx)("ul",{className:"navbar-nav",children:null===n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/create-account",className:"nav-link",title:"Click here to sign up for a new account.",children:"Create Account"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/login",className:"nav-link",title:"If you have an existing account, click here to login.",children:"Login"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/deposit",className:"nav-link",title:"Make a deposit to your account.",children:"Deposit"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/withdraw",className:"nav-link",title:"Make a withdrawal from your account.",children:"Withdraw"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/balance",className:"nav-link",title:"Check your balance information.",children:"Balance"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/all-data",className:"nav-link",title:"View all user data.",children:"All Data"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(i.b,{to:"/logout",className:"nav-link",title:"Logout.",children:"Logout"})})]})}),null!==n?Object(j.jsx)("div",{className:"navbar-text-box",children:Object(j.jsxs)("span",{class:"navbar-text",children:["Welcome, ",n.name,"!"]})}):Object(j.jsx)(j.Fragment,{})]})]})}),Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.a,{path:"/create-account",children:Object(j.jsx)(x,{loggedIn:a,setLoggedIn:c,setCurrentUser:s})}),Object(j.jsx)(d.a,{path:"/login",children:Object(j.jsx)(N,{loggedIn:a,setLoggedIn:c,setCurrentUser:s,users:t})}),Object(j.jsx)(d.a,{path:"/deposit",children:Object(j.jsx)(g,{})}),Object(j.jsx)(d.a,{path:"/withdraw",children:Object(j.jsx)(y,{})}),Object(j.jsx)(d.a,{path:"/balance",children:Object(j.jsx)(u,{})}),Object(j.jsx)(d.a,{path:"/all-data",children:Object(j.jsx)(b,{users:t})}),Object(j.jsx)(d.a,{path:"/logout",children:Object(j.jsx)(k,{setCurrentUser:s,setLoggedIn:c,loggedIn:a})}),Object(j.jsx)(d.a,{path:"/",children:Object(j.jsx)(p,{})})]})]})})},C=Object(c.createContext)();var B=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(!1),l=Object(o.a)(n,2),i=l[0],d=l[1],b=Object(c.useState)(null),u=Object(o.a)(b,2),h=u[0],O=u[1];return Object(c.useEffect)((function(){fetch("/account/all").then((function(e){return e.json()})).then((function(e){s(Object(r.a)(e))}))}),[h]),Object(c.useEffect)((function(){console.log(h)}),[h]),Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(C.Provider,{value:h,children:Object(j.jsx)(w,{users:a,setUsers:s,loggedIn:i,setLoggedIn:d,setCurrentUser:O,currentUser:h})})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,l=t.getTTFB;a(e),c(e),s(e),n(e),l(e)}))};l.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root")),S()}},[[39,1,2]]]);
//# sourceMappingURL=main.c38cfe1e.chunk.js.map